package walmart.jsonPath.examples;

import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.hasEntry;
import static org.hamcrest.Matchers.hasItems;
import static org.hamcrest.Matchers.hasKey;
import static org.hamcrest.Matchers.hasValue;
import static org.hamcrest.Matchers.instanceOf;

import org.testng.annotations.Test;

public class SoftAssertions {
	@Test
	public void test007(){

		given()
		.queryParam("query", "ipod")
		.queryParam("apiKey", APIKEY)
		.queryParam("format", "json")
		.when()
		.get("/search")
		.then()
		.body("items.findAll{it.name=='Apple iPod touch 128GB'}", hasItems(hasEntry("name", "Apple iPod touch 128GB")))
		.body("items[1].giftOptions", hasKey("allowGiftWrap"))
		.body("items[1].giftOptions", hasValue(false))
		.body("query", instanceOf(String.class))
		.statusCode(200);

	}
}
